
<div class="row">
    <!-- Column -->
  <div class="col-lg-12">
    <div class="card">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs profile-tab" role="tablist">
        <li class="nav-item"> <a class="nav-link active liInfoGen" data-toggle="tab" href="#" role="tab">Información general inversión</a> <span class="nomUser">User: {{userAsociado[0].nombres_us}}</span></li>
      </ul>
      <!-- Tab panes -->
      <div class="tab-content">        
        <div class="tab-pane active" id="settings" role="tabpanel">
          <div class="card-body">
            <div class="row">
              <div class="col-lg-8 col-md-8">
                <small class="text-muted">ID inversión: &nbsp; <b>{{inversion['id_inv']}}</b> </small>
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Fecha inversión: &nbsp; {{inversion['fechareg_inv'] | date: 'dd/MM/yyyy'}} </small>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Nombre inversión:</small>
                <h6>{{inversion['nombre_inv']}}</h6> 
              </div>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Capital invertido moneda extranjera:</small>
                <h6>{{inversion['capital_extra_inv'] | currency: inversion['moneda_extra_inv']}}</h6> 
              </div>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Moneda extranjera:</small>
                <h6>{{inversion['moneda_extra_inv']}}</h6> 
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Tasa de cambio:</small>
                <h6>{{ inversion['tasa_cambio_inv'] | currency: inversion['moneda_extra_inv'] }}</h6> 
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Capital invertido en COP:</small>
                <h6>{{inversion['capital_cop_inv'] | currency: inversion['moneda_extra_inv']}}</h6> 
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Tasa de interés (EA):</small>
                <h6>{{inversion['tasa_ea_inv']}}%</h6>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Interés a futuro en Moneda extranjera:</small>
                <h6>{{inversion['interes_extra_inv']}}%</h6>
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Interés a futuro en COP:</small>
                <h6>{{inversion['interes_cop_inv']}}%</h6>
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Pais inversión:</small>
                <h6>{{inversion['pais_inv']}}</h6>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Rentabilidad en moneda extranjera:</small>
                <h6>{{inversion['renta_extra_inv'] | currency: inversion['moneda_extra_inv']}}</h6>
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Rentabilidad en moneda COP:</small>
                <h6>{{inversion['renta_cop_inv'] | currency: inversion['moneda_extra_inv']}}</h6>
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Tiempo inversión:</small>
                <h6>{{inversion['tiempo_inv']}} días</h6>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-8 col-md-8">
                <small class="text-muted">Descripción:</small>
                <h6>{{inversion['descripcion_inv']}}</h6>
              </div>
              <br>
              <div class="col-lg-4 col-md-4">
                <small class="text-muted">Estado inversión:</small>
                <h6 *ngIf="inversion['estado_inv'] === 1" class="text-warning">ACTIVO</h6>
                <h6 *ngIf="inversion['estado_inv'] === 0" class="text-danger">INACTIVO</h6>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-12">
                <button *ngIf="this.usuario[0].admin_us === 'Y'" type="button" (click)="modalEditInvert(inversion)" class="btn waves-effect waves-light btn-rounded btn-success" data-toggle="modal" data-target=".modalEditInver">Editar inversión</button>
                &nbsp;
                <button type="button" (click)="goBack()" class="btn waves-effect waves-light btn-rounded btn-danger">Volver</button>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Tabla con los anexos -->
<div *ngIf=" anexos.length > 0 " class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Anexos cargados actualmente</h4>
        <h6 class="card-subtitle">Estos son los anexos cargados para la inversión {{inversion['nombre_inv']}} </h6>
        <div class="table-responsive">
          <table class="table tablaAnexos">
            <thead>
              <tr>
                <th># Anexo</th>
                <th>Movimiento</th>
                <th>Capital moneda extranjera</th>
                <th>Capital moneda COP</th>
                <th>Intereses moneda extranjera</th>
                <th>Intereses moneda COP</th>
                <th class="headW">Fecha</th>
                <th>File</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let anexo of anexos">
                <td> <a class="aAnexos" title="Ver Anexo" (click)="navegarAnexo(anexo)"> {{anexo.id_anex}} </a></td>
                <td>{{anexo.movimiento_anex}}</td>
                <td>{{anexo.capital_extra_anex | currency: anexo.moneda_anex }} </td>
                <td>{{anexo.capital_cop_anex | currency: anexo.moneda_anex }} </td>
                <td>{{anexo.interes_extra_anex}}%</td>
                <td>{{anexo.interes_cop_anex}}%</td>
                <td><span class="text-muted"><i class="fa fa-calendar-o"></i> {{ anexo.fechAnexo }}</span> </td>
                <td *ngIf=" anexo.tipo_archivo_info === 'pdf' " (click)="verArchivo( anexo.tipo_archivo_info, anexo.nom_archivo_info )" class="cursor"><img class="logoFile" src="../../../assets/images/pdf.png" alt=""> </td>
                <td *ngIf=" anexo.tipo_archivo_info === 'word' " (click)="verArchivo( anexo.tipo_archivo_info, anexo.nom_archivo_info )" class="cursor"><img class="logoFile" src="../../../assets/images/word.png" alt=""></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Anexos para la inversión  -->
<div *ngIf="this.usuario[0].admin_us === 'Y'" class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <button type="button" (click)="navegarCrearAnexo()" class="btn waves-effect waves-light btn-rounded btn-success btn-block" >Crear Anexo</button>
      </div>
    </div>
  </div>
</div>




<!-- ************************************************************************************************* -->
<!-- Modal para editar la inversión -->
<!-- ************************************************************************************************* -->
<div class="modal fade modalEditInver" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myLargeModalLabel">ID inversión: &nbsp; <b>{{editInversion['id_inv']}}</b></h4>
        <h4 class="modal-title" id="myLargeModalLabel">Fecha inversión: &nbsp; {{editInversion['fechareg_inv'] | date: 'dd/MM/yyyy'}}</h4>
      </div>
      <div class="modal-body">
        <div class="comment-text w-100">

          <form class="formEditTicket m-t-40" [formGroup]="FormEditInversion" (submit)="editarInversion(editInversion['id_inv'])">
            <div class="row">
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="text" formControlName="nombreInver" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Nombre inversión</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="capitalExtra" class="form-control">
                  <span class="bar"></span>
                  <label for="input2">Capital invertido Moneda Extranjera</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <label for="input3">Moneda Extranjera</label>
                  <select formControlName="monedaExtra" class="form-control">
                    <option value="COP">COP</option>
                    <option value="EUR">EUR</option>
                    <option value="USD">USD</option>
                  </select>
                </div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="tasaCambio" class="form-control">
                  <span class="bar"></span>
                  <label for="input3">Tasa de Cambio</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="capitalCop" class="form-control">
                  <span class="bar"></span>
                  <label for="input3">Capital Invertido en COP</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="tasaInteres" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Tasa Interés EA</label>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="text" formControlName="interesExtra" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Interés Futuro en Moneda Extranjera</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="text" formControlName="interesCop" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Interés Futuro Anual en COP</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="text" formControlName="pais" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">País inversión</label>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="rentaExtra" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Rentabilidad en Moneda Extranjera</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="rentaCop" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Rentabilidad en Moneda COP</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="form-group m-b-40 focused">
                  <input type="number" formControlName="tiempo" class="form-control">
                  <span class="bar"></span>
                  <label for="input1">Tiempo de inversión</label>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-8 col-md-8">
                <div class="form-group m-b-40 focused">
                  <textarea class="form-control" formControlName="descripcion" rows="2"></textarea>
                  <span class="bar"></span>
                  <label for="input3">Descripción de la inversión</label>
                </div>
              </div>
              <div class="col-lg-4 col-md-4">
                <div class="checkbox checkbox-info pull-left p-t-0">
                  <input id="checkbox-signup" formControlName="estado" type="checkbox" class="filled-in chk-col-light-blue">
                  <label for="checkbox-signup">Inversión visible </label><br><br>
                  <h6>Puede Actualizar la inversión y permitir ser vista. </h6>
                </div> 
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-6 col-md-6">
                <div class="form-group">
                  <button type="submit" class="btn waves-effect waves-light btn-rounded btn-success btn-block">Editar inversión</button>
                </div>
              </div>
              <div class="col-lg-6 col-md-6">
                <button type="button" class="btn waves-effect waves-light btn-rounded btn-danger btn-block" data-dismiss="modal">Close</button>
              </div>
            </div>
  
            <div class="row">
              <div class="col text-danger">
                <p *ngIf="campoNoValido('nombreInver')">*El nombre de la inversión es obligatorio.</p>
                <p *ngIf="campoNoValido('capitalExtra')">*El capital en moneda extranjera es obligatorio.</p>
                <p *ngIf="campoNoValido('monedaExtra')">*La moneda extranjera es obligatoria.</p>
                <p *ngIf="campoNoValido('tasaCambio')">*La tasa de cambio es obligatoria.</p>
                <p *ngIf="campoNoValido('capitalCop')">*El capital invertido en COP es obligatoria.</p>
                <p *ngIf="campoNoValido('tasaInteres')">*La tasa de interés es obligatoria.</p>
                <p *ngIf="campoNoValido('interesExtra')">*Los intereses en moneda extranjera son obligatorios.</p>
                <p *ngIf="campoNoValido('interesCop')">*Los intereses en moneda COP son obligatorios.</p>
                <p *ngIf="campoNoValido('pais')">*El país es obligatorio.</p>
                <p *ngIf="campoNoValido('rentaExtra')">*La rentabilidad en Moneda Extranjera es obligatoria.</p>
                <p *ngIf="campoNoValido('rentaCop')">*La rentabilidad en Moneda COP es obligatoria.</p>
                <p *ngIf="campoNoValido('tiempo')">*El tiempo de inversión es obligatorio.</p>
                <p *ngIf="campoNoValido('descripcion')">*La descripción es obligatoria.</p>
              </div>
            </div>
          </form>


        </div>
      </div>
    </div>
  </div>
</div>

